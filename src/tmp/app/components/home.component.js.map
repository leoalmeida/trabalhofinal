{"version":3,"sources":["app/components/home.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;GAEG;AACH,qBAAuC,eAAe,CAAC,CAAA;AAEvD,uBAAwD,iBAAiB,CAAC,CAAA;AAC1E,uBAA0D,iBAAiB,CAAC,CAAA;AAC5E,qBAAiC,eAAe,CAAC,CAAA;AAEjD,QAAO,2BAA2B,CAAC,CAAA;AACnC,wBAAiC,cAAc,CAAC,CAAA;AAChD,QAAO,uBAAuB,CAAC,CAAA;AAC/B,QAAO,gCAAgC,CAAC,CAAA;AACxC,QAAO,wCAAwC,CAAC,CAAA;AAChD,QAAO,6BAA6B,CAAC,CAAA;AAErC,QAAO,sBAAsB,CAAC,CAAA,CAAE,QAAQ;AACxC,QAAO,yBAAyB,CAAC,CAAA;AAEjC,8BAA2B,2BAA2B,CAAC,CAAA;AASvD;IAEI,uBAAoB,OAAqB,EAAU,MAAc;QAA7C,YAAO,GAAP,OAAO,CAAc;QAAU,WAAM,GAAN,MAAM,CAAQ;QAUjE,eAAU,GAAY,KAAK,CAAC;QAG5B,eAAU,GAAY,IAAI,gBAAO,CAAC,EAAE,CAAC,CAAC;QAE9B,qBAAgB,GAAG,IAAI,iBAAO,EAAU,CAAC;QAd7C,sCAAsC;QACtC,2BAA2B;QAC3B,gCAAgC;QAChC,6EAA6E;IACjF,CAAC;IAYD,8BAAM,GAAN,UAAO,UAAkB,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAEtE,8BAAM,GAAN,cAAU,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA,CAAC;IAE9C,kCAAU,GAAV,UAAW,IAAY,IAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAC,IAAI,CAAC,CAAA,CAAC;IAErD,wCAAgB,GAAhB,UAAiB,IAAkB,EAAE,IAAkB,EAAE,QAAmB;QACxE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACxD,4DAA4D;IAChE,CAAC;IAED,uCAAe,GAAf;QAAA,iBAKC;QAJG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC;aAC3B,SAAS,CACN,UAAA,SAAS,IAAI,OAAA,KAAI,CAAC,IAAI,GAAG,SAAS,EAArB,CAAqB,EAClC,UAAA,KAAK,IAAK,OAAA,KAAI,CAAC,YAAY,GAAQ,KAAK,EAA9B,CAA8B,CAAC,CAAC;IACtD,CAAC;IAED,gCAAQ,GAAR,UAAS,IAAoB;QACzB,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAA,CAAC;YAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACpC,CAAC;QAAA,IAAI,CAAA,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAK,IAAI,CAAC,SAAS,CAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACpE,CAAC;IACL,CAAC;IAED,gCAAQ,GAAR;QACI,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,0BAA0B;IAC9B,CAAC;IAxDL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,QAAQ;YAClB,WAAW,EAAE,yBAAyB;YACtC,SAAS,EAAE,CAAC,0BAA0B,CAAC;YACvC,UAAU,EAAE,CAAC,wBAAe,EAAE,wBAAe,CAAC;YAC9C,SAAS,EAAG,CAAC,sBAAe,EAAE,4BAAY,CAAC;SAC9C,CAAC;;qBAAA;IAoDF,oBAAC;AAAD,CAnDA,AAmDC,IAAA;AAnDY,qBAAa,gBAmDzB,CAAA","file":"app/components/home.component.js","sourcesContent":["/**\n * Created by LeonardoAlmeida on 02/05/16.\n */\nimport {Component, Input, OnInit} from '@angular/core';\nimport {ItemDefinition} from \"../models/item.model\";\nimport {CORE_DIRECTIVES, FORM_DIRECTIVES, Control} from \"@angular/common\";\nimport {Router, RouteSegment, RouteTree, OnActivate} from \"@angular/router\";\nimport { JSONP_PROVIDERS }  from '@angular/http';\nimport { Observable }       from 'rxjs/Observable';\nimport 'rxjs/add/observable/throw';\nimport { Subject }          from 'rxjs/Subject';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/switchMap';\n\nimport 'rxjs/add/operator/do';  // debug\nimport 'rxjs/add/operator/catch';\n\nimport {ItemsService} from \"../services/items.service\";\n\n@Component({\n    selector: 'painel',\n    templateUrl: 'app/templates/home.html',\n    styleUrls: ['app/stylesheets/home.css'],\n    directives: [CORE_DIRECTIVES, FORM_DIRECTIVES],\n    providers:  [JSONP_PROVIDERS, ItemsService]\n})\nexport class HomeComponent implements OnInit, OnActivate{\n\n    constructor(private service: ItemsService, private router: Router) {\n        //   this.list = this.searchTermStream\n        //       .debounceTime(300)\n        //       .distinctUntilChanged()\n        //       .switchMap((searchText: string) => this.service.search(searchText));\n    }\n\n    list: ItemDefinition[];\n    private currSegment: RouteSegment;\n    private selectedId: number;\n    showSearch: boolean = false;\n    errorMessage: string;\n\n    searchText: Control = new Control('');\n\n    private searchTermStream = new Subject<string>();\n\n    search(searchText: string) { this.searchTermStream.next(searchText); }\n\n    toggle() {this.showSearch = !this.showSearch;}\n\n    goExternal(link: string) {window.location.href=link;}\n\n    routerOnActivate(curr: RouteSegment, prev: RouteSegment, currTree: RouteTree) {\n        this.currSegment = curr;\n        this.selectedId = +currTree.parent(curr).getParam('id');\n        //this.service.getAllItems().then(list => this.list = list);\n    }\n\n    getAllMenuItems() {\n        this.service.getAllItems(\"menu\")\n            .subscribe(\n                menuItems => this.list = menuItems,\n                error =>  this.errorMessage = <any>error);\n    }\n\n    onSelect(item: ItemDefinition) {\n        if (Boolean(item.isExternal)){\n            this.goExternal(item.routeLink);\n        }else{\n            this.router.navigate([`./${item.routeLink}`], this.currSegment);\n        }\n    }\n\n    ngOnInit() {\n        this.getAllMenuItems();\n        //this.service.search(\"\");\n    }\n\n}\n"],"sourceRoot":"/source/"}